# BlackJack
Проектна задача по предметот Визуелно Програмирање 

**Тамара Костова, Бојана Јанческа, Никола Пендевски**

#1 ***Опис на апликацијата***

Апликацијата е едноставна Windows Forms игра изработена во C# во која може да се игра една од најпознатите казино игри со карти - BlackJack. Во играта играчот игра против куќата, а целта е да се освојат 21 поен (или што е можно поблизок збир до 21 од куќата). Ако со збирот на картите се надмине 21, играта веднаш завршува. Доколку играчот освои збир 21 или збир со помала разлика од 21 отколку куќата победува. Доколку играчот и куќата имаат исти збирови играта е нерешена. 
Картите од 2 до 10 имаат вредност според нивниот број, додека картите со слики(поп, дама, крал) имаат вредност 10.

Апликацијата вклучува изворен код во C# како и графички приказ со слики на картите. 
Играта се состои од неколку функционалности и тоа:
- New Game (или Quit доколку веќе била започната игра): со која се ресетираат картите (две карти кај играчот и една свртена и една превртена карта кај куќата) и поените на играчот и куќата и се започнува нова игра.
- Hit: се дели нова карта на средината на масата и се ажурираат поените на играчот. Тука се проверува и дали играчот веќе има 9 карти или збир поголем од 21 (што значи крај на играта).
- Stay: се превртува скриената карта на куќата, се пребројуваат поените и се прикажува порака со победникот во согласност со правилата на игра.

#2 ***Упатство за користење***

Со притискање на копчето New Game на почетокот од играта се започнува со играње или се ресетира играта ако веќе била започната. Играчот може да одлучи дали да земе дополнителни карти(Hit) или да остане со моменталниот збир(Stay). Со притискање на копчето Hit се дели нова карта на средината на масата доколку тоа е дозволена акција спрема правилата на игра и се прават потребните проверки дали веќе имаме крај или победник на играта. Со притискање на копчето Stay се прикажуваат поените на играчот и куќата и се прогласува победник на играта.

#3 ***Решение на проблемот***

Апликацијата се состои од методи кои ги извршуваат различните функционалности на играта и ги манипулираат податоците со помош на променливи. 

```C#
public partial class Form1 : Form
{

	/// Stores the file name of the cards dealt to the dealer and player
        public static string DealerSecondCard, PlayerFirstCard, PlayerSecondCard;
        
	/// Holds the numerical value of the cards dealt to the player
	public static int pScore1, pScore2;
	
	/// Indicates whether the game is over or not
        public static bool isGameOver;

	/// Keeps track of the current score of the dealer, 
        private int playerScore, dealerScore;
	
	/// Stores the randomly generated card and suit value
	private int rnCard, rnSuit;
	
	/// Tracks the number of cards dealt to the player
	private int playerCardsCount;
	
	/// Represents the numerical value of a card
	private int cardValue;

	/// Holds the numerical value of the cards dealt to the dealer
        private int dScore1, dScore2;
	
	/// Represent the suit of the card, the value of the card and the file name of the card accordingly
        private string suit, card, dCard;
  
	...
}
```

```C# 
private void StartNewGame()
```


Со методот **StartNewGame()** се иницијализира нова игра.  
Ги овозможува копчињата **Hit** и **Stay** за интеракција, па ја поставува вредноста на променливата **isGameOver** на false што покажува дека играта не е завршена. Потоа, го менува текстот на копчето **New Game** во **Restart**. За да осигура чист почеток на играта, ги сокрива дополнителните карти на играчот, и ги ресетира различните променливи и бројачи.  
Генерира две случајни вредности за картите на куќата. Се повикува функцијата **ConvertFaceCardToNumberValue()** за да се конвертираат сите карти со лице во соодветните нумерички вредности. Се повикува функцијата **ConvertFaceCardToFileName()** за да се добие соодветното име на датотеката за картата. Се ажурираат конвертираните вредности на картите и се пресметува вкупниот збир на куќата со собирање на вредностите на картите.

```C#
private void DealCard()
```

Методот **DealCard()** се користи за доделување на карти на играчот и на куќата, каде се генерира случајна вредност за картата, се конвертира во нумеричка вредност, се повикува функцијата **SelectSuit()** за да се избере соодветната боја и се составува името на датотеката според избраната боја и вредност.

```C#
private void DealPlayerCard()
```

Методот **DealPlayerCard()** се користи во случајот кога играчот ја одбира опцијата **Hit** и добива дополнителна карта.  
Се повикува методот **DealCard()** за да се додели нова карта на играчот, па се зголемува бројачот за бројот на картите на играчот (**playerCardsCount**) за еден. Понатаму, се проверува вредноста на **playerCardsCount** за да се одреди која карта треба да се прикаже на корисничкиот интерфејс, и се прикажува сликата на добиената карта на соодветната позиција. Се зголемува вредноста на **playerScore** со вредноста на картата доделена на играчот и се ажурира лабелата **lblscorePlayer** за прикажување на вкупниот збир на картите на играчот. Се проверува дали вкупниот збир на картите на играчот преминува границата од 21. Ако играчот има збир поголем од 21, се повикува методата **GameOver()** со услов **playerBust** за да се објави крај на играта.

```C#
private void Stay()
```

Методот **Stay()** има за цел да овозможи играчот да одлучи да остане со своите моментални карти. Со притискање на копчето **Stay**, методот ги оневозможува копчињата за доделување на нови карти и го прикажува вкупниот збир на картите на куќата. Потоа се проверува дали куќата треба да си додели дополнителни карти во зависност од збирот и бројот на картите на играчот. Доколку условот е исполнет, се доделуваат нови карти на куќата и се ажурира вкупниот збир на картите. По доделувањето на карти, се спроведуваат проверки за победа, пораз или нерешен резултат и се повикува методот **GameOver()** за прикажување на соодветна порака.

```C#
private void GameOver(string Condition)
```

Методот **GameOver()** има за цел да го објави крајот на играта и да ја прикаже соодветната порака во зависност од исходот на играта. Кога се повикува, оваа метода го прикажува вкупниот збир на картите на куќата, ги оневозможува копчињата **Hit** и **Stay** и го променува статусот на играта **isGameOver** на true, означувајќи дека играта е завршена.
Со споредба на параметарот **Condition**, методот генерира соодветна порака за крајот на играта. Со завршување на играта, играчот има можност да започне нова игра со притискање на копчето **New Game**.


#4 ***Неколку можни сценарија од играта***

-победа

<img width="533" alt="win" src="https://github.com/tamara-kostova/BlackJack/assets/90916955/c92527f6-c92a-4b58-84ce-b0467cbd139b">


-пораз

<img width="532" alt="loss" src="https://github.com/tamara-kostova/BlackJack/assets/90916955/f6cbdc00-5155-4348-9f35-d9fea658caea">

-нерешено

<img width="532" alt="tie" src="https://github.com/tamara-kostova/BlackJack/assets/90916955/0db9b79b-c9e9-4e6d-845c-029a328969ec">



